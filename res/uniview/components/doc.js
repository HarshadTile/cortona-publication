/*! Cortona3D Solo Universal Viewer bundle - doc, Copyright (c) 2015-2025 Paragraphics Ltd. (http://www.cortona3d.com/) */
define((function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=12)}([function(e,t,n){"use strict";var r,i=function(){return void 0===r&&(r=Boolean(window&&document&&document.all&&!window.atob)),r},o=function(){var e={};return function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}e[t]=n}return e[t]}}(),a=[];function c(e){for(var t=-1,n=0;n<a.length;n++)if(a[n].identifier===e){t=n;break}return t}function l(e,t){for(var n={},r=[],i=0;i<e.length;i++){var o=e[i],l=t.base?o[0]+t.base:o[0],s=n[l]||0,u="".concat(l," ").concat(s);n[l]=s+1;var d=c(u),p={css:o[1],media:o[2],sourceMap:o[3]};-1!==d?(a[d].references++,a[d].updater(p)):a.push({identifier:u,updater:h(p,t),references:1}),r.push(u)}return r}function s(e){var t=document.createElement("style"),r=e.attributes||{};if(void 0===r.nonce){var i=n.nc;i&&(r.nonce=i)}if(Object.keys(r).forEach((function(e){t.setAttribute(e,r[e])})),"function"==typeof e.insert)e.insert(t);else{var a=o(e.insert||"head");if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(t)}return t}var u,d=(u=[],function(e,t){return u[e]=t,u.filter(Boolean).join("\n")});function p(e,t,n,r){var i=n?"":r.media?"@media ".concat(r.media," {").concat(r.css,"}"):r.css;if(e.styleSheet)e.styleSheet.cssText=d(t,i);else{var o=document.createTextNode(i),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(o,a[t]):e.appendChild(o)}}function f(e,t,n){var r=n.css,i=n.media,o=n.sourceMap;if(i?e.setAttribute("media",i):e.removeAttribute("media"),o&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),e.styleSheet)e.styleSheet.cssText=r;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(r))}}var m=null,v=0;function h(e,t){var n,r,i;if(t.singleton){var o=v++;n=m||(m=s(t)),r=p.bind(null,n,o,!1),i=p.bind(null,n,o,!0)}else n=s(t),r=f.bind(null,n,t),i=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)};return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else i()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=i());var n=l(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var r=0;r<n.length;r++){var i=c(n[r]);a[i].references--}for(var o=l(e,t),s=0;s<n.length;s++){var u=c(n[s]);0===a[u].references&&(a[u].updater(),a.splice(u,1))}n=o}}}},function(e,t,n){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=function(e,t){var n=e[1]||"",r=e[3];if(!r)return n;if(t&&"function"==typeof btoa){var i=(a=r,c=btoa(unescape(encodeURIComponent(JSON.stringify(a)))),l="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(c),"/*# ".concat(l," */")),o=r.sources.map((function(e){return"/*# sourceURL=".concat(r.sourceRoot||"").concat(e," */")}));return[n].concat(o).concat([i]).join("\n")}var a,c,l;return[n].join("\n")}(t,e);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n})).join("")},t.i=function(e,n,r){"string"==typeof e&&(e=[[null,e,""]]);var i={};if(r)for(var o=0;o<this.length;o++){var a=this[o][0];null!=a&&(i[a]=!0)}for(var c=0;c<e.length;c++){var l=[].concat(e[c]);r&&i[l[0]]||(n&&(l[2]?l[2]="".concat(n," and ").concat(l[2]):l[2]=n),t.push(l))}},t}},function(e,t,n){var r;void 0===(r=function(e,t,n){var r=function(){var e=document.body&&document.body.currentStyle?function(e){return e.currentStyle}:function(e){return document.defaultView.getComputedStyle(e,null)};function t(t,n){return e(t)[n]}function n(e){return"scroll"===e||"auto"===e}return function(e){return function(e){return e.offsetHeight<e.scrollHeight&&n(t(e,"overflow-y"))}(e)||function(e){return e.offsetWidth<e.scrollWidth&&n(t(e,"overflow-x"))}(e)}}();n.exports=function(e,t,n){if(e){var i=function e(t){return r(t)?t:null===t.parentNode?null:e(t.parentNode)}(e);if(i){var o=i.getBoundingClientRect(),a=e.getBoundingClientRect(),c=parseInt(o.top),l=parseInt(o.bottom)-16,s=l-c,u=parseInt(a.top),d=parseInt(a.bottom),p=d-u,f=0;try{var m=i.querySelector("table thead td")||i.querySelector("table thead th");"sticky"===window.getComputedStyle(m).position&&(c+=i.querySelector("table thead").getBoundingClientRect().height)}catch(e){}t&&(c+=t),n&&(l+=n),p>s||u<c?f=u-c:d>l&&(f=d-l),0!==f&&(i.scrollTop+=f)}}}}.call(t,n,t,e))||(e.exports=r)},function(e,t,n){var r;void 0===(r=function(e,t,r){n(4),r.exports=function(e,t,n){var r,i=n.uniview.ixml,o=!0;if(n.app.observeObjectVisibility)n.on("app.procedure.didChangeVisibility",(function(e){document.querySelectorAll('a.link[data-link="link3d"][data-context="part"], a.link[data-link="link3d"][data-context="item"]').forEach((function(t){i.getObjects(t.dataset.key.split(" ")).some(t=>e[t])?t.classList.remove("disabled"):t.classList.add("disabled")}))}));else{var a,c=null;n.on("app.procedure.didChangePlayerState",(function(){clearTimeout(a);var e=Array.prototype.slice.call(document.querySelectorAll('.active a.link[data-link="link3d"][data-context="part"], .active a.link[data-link="link3d"][data-context="item"]')).map((function(e){return e.dataset.key}));c=Array.prototype.slice.call(document.querySelectorAll('a.link[data-link="link3d"][data-context="part"], a.link[data-link="link3d"][data-context="item"]')).sort((function(t,n){var r=t.dataset.key,i=n.dataset.key,o=e.indexOf(r)<0?0:1,a=e.indexOf(i)<0?0:1;return o>a?1:o<a?-1:0})),function e(){for(var t,r=new Date;c&&c.length&&new Date-r<10;)t=c.pop(),i.getObjects(t.dataset.key.split(" ")).some((function(e){return 0===n.app.getObjectVisibility(e)}))?t.classList.remove("disabled"):t.classList.add("disabled");c&&c.length?a=setTimeout(e):c=null}()}))}return{resolveImages:function(e){e.querySelectorAll("img, video, audio").forEach((function(e){var t=e.getAttribute("src")||"",i=n.uniview.options.UseCompressedSVG?".svgz":".svg";t=t.replace(/\.cgm$/i,i),e.src=o?r?n.app.getResourceUrl(r.replace(/[^\\\/]+$/,t)):n.app.getResourceUrl(t):n.app.getResourceUrl(t,r)})),e.querySelectorAll("object").forEach((function(e){var t=e.getAttribute("data")||"";e.data=o?r?n.app.getResourceUrl(r.replace(/[^\\\/]+$/,t)):n.app.getResourceUrl(t):n.app.getResourceUrl(t,r)}))},resolveLinks:function(e){t.disable3DLink&&e.querySelectorAll(".link[data-link=link3d]").forEach((function(e){e.classList.remove("link3d"),e.classList.remove("link")}));var r,i,o,a="function"==typeof t.testDataLink?t.testDataLink:function(){return!0},c=t.handlers||{};e.querySelectorAll(".link").forEach((function(e){(i=e.getAttribute("data-link"))&&a.call(e,i)?(e.onclick=function(e){for(r=!1,o=e.target;o&&o.classList&&!r;)r=o.classList.contains("filterHide"),o=o.parentNode;if(!r){var t=this.getAttribute("data-link");"function"==typeof c[t]?(c[t].call(this,e),n.dispatch("uniview.doc.didActivateLink",t,this)):console.error("No handler for "+t)}e.stopPropagation()},e.querySelectorAll("a[href]").forEach((function(e){e.addEventListener("click",(function(e){e.stopPropagation()}))}))):e.classList.remove("link")}))},documentTemplateHtml:function(){return Promise.resolve(i.json.$("SimulationInteractivity/DocumentTemplate")[0]).then((function(e){if(t.preventFetchDocument)return"";if(!e&&!t.documentTemplateURL)return console.error("<DocumentTemplate> node not found in the interactivity.xml. Switching to comments view."),"";var i=t.documentTemplateURL||e.$attr("src");if(!i)return e.$text();var a=n.app.getResourceUrl(i);return n.app.util.loadResource(a).then((function(e){return o=/^blob:/i.test(a),r=o?i:a,e.response?Promise.resolve(e.response):Promise.reject()})).catch((function(){return console.error('Failed loading external document template from "'+a+'".'),Promise.resolve(e?e.$text():"")}))}))}}}}.call(t,n,t,e))||(e.exports=r)},function(e,t,n){var r=n(0),i=n(5);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var o={insert:"head",singleton:!1};r(i,o);e.exports=i.locals||{}},function(e,t,n){(t=n(1)(!1)).push([e.i,".doc-container .link {\r\n    cursor: pointer;\r\n}\r\n\r\n.doc-container .link.disabled {\r\n    cursor: not-allowed;\r\n    pointer-events: auto;\r\n}\r\n\r\n.doc-container a[href],\r\n.doc-container a.link {\r\n    color: #00D;\r\n    text-decoration: none;\r\n}\r\n\r\n.doc-container a[href]:visited,\r\n.doc-container a.link:visited {\r\n    color: #00D;\r\n}\r\n\r\n.doc-container a[href]:hover,\r\n.doc-container a.link:hover {\r\n    color: #00F;\r\n    text-decoration: underline;\r\n}\r\n\r\n.skin-popup.footnote-popup {\r\n    position: absolute;\r\n    padding: 5pt;\r\n    background: rgb(255, 255, 204);\r\n    border: 1px solid black;\r\n    border-radius: 5px;\r\n}",""]),e.exports=t},,,,,,,function(e,t,n){var r;void 0===(r=function(e,t,r){n(13);var i=n(2),o=n(15);r.exports=function(e,t,r){var a=r.uniview.options.StartAfterLoading||r.uniview.doc&&r.uniview.doc.autoStartPlayback,c=r.uniview.with3D&&!a&&!t.showDocumentProcedureOnLoad,l=r.uniview.options.DisableTextSelection||t.DisableTextSelection,s=this,u=e.create(n(3),t),d=r.uniview.css;l||(d.render({".skin-holder .doc-container":{"user-select":"text","-moz-user-select":"text","-webkit-user-select":"text","-ms-user-select":"text"}}),window.addEventListener("mousedown",(function(e){window.getSelection().removeAllRanges()}))),r.on("uniview.doc.activate",(function(e,t,n){var o=document.getElementById(e),a=document.getElementById(t);if(c)return r.on("app.procedure.didChangePlayerState",(function(e){e&&(c=!1)})),r.once("app.procedure.didPlay",(function(){c=!1})),void r.once("uniview.link3d",(function(){c=!1}));o&&(f.querySelectorAll(".play-context").forEach((function(e){e.classList.remove("play-context")})),f.querySelectorAll(".active").forEach((function(e){e.classList.remove("active")})),o.classList.add("play-context"),n||i(o)),a&&(f.querySelectorAll(".active").forEach((function(e){e.classList.remove("active")})),a.classList.add("active"),n||i(a))}));var p=r.app.modelInfo||r.uniview.doc||{},f=e.container(".doc-container"),m=r.uniview.options.AllowStepGraphics,v=r.uniview.options.AllowProcedureGraphics;function h(){return function e(t,n,i){var a=r.uniview.ixml.json.$("SimulationInteractivity/Simulation")[0],c=t+(+i+1)+".",l="",s=n.$text("Comment").trim();switch(n["@name"]){case"Procedure":s=a.$text("Comment").trim(),l+='<div id="'+n.$attr("id")+'">',s&&(l+='<div class="tiramisu-proc-title">'+s+"</div>"),l+=(n["@children"]||[]).filter(g).map(e.bind(null,"")).join(""),v&&r.uniview.ixml.json.$("SimulationInteractivity/Resources/Picture").filter(e=>1&(+e.$attr("flags")||0)&&!e.$attr("action")).forEach(e=>{var t=e.$attr("descr");l+='<div class="tiramisu-proc-item-image">',l+='<a class="link link2d" data-src="'+o(e.$text())+'">',l+='<img src="'+o(e.$text())+'">',t&&(l+='<div class="tiramisu-proc-item-image-title">'+o(t)+"</div>"),l+="</a>",l+="</div>"}),l+="</div>";break;case"Item":l+='<div id="'+n.$attr("id")+'" class="tiramisu-proc-item">',l+='<div class="tiramisu-proc-item-number">'+c+"</div>",l+='<div class="tiramisu-proc-item-content">',l+=n.$text("Comment")||'<p class="tiramisu-proc-item-empty"></p>',m&&function(e){var t=r.uniview.ixml.json,n=(e["@children"]||[]).map(e=>e.$attr("id"));return t.$("SimulationInteractivity/Resources/Picture").filter(e=>1&(+e.$attr("flags")||0)&&n.indexOf(e.$attr("action"))>=0)}(n).forEach(e=>{var t=e.$attr("descr");l+='<div class="tiramisu-proc-item-image">',l+='<a class="link link2d" data-src="'+o(e.$text())+'">',l+='<img src="'+o(e.$text())+'">',t&&(l+='<div class="tiramisu-proc-item-image-title">'+o(t)+"</div>"),l+="</a>",l+="</div>"}),l+=(n["@children"]||[]).filter(g).map(e.bind(null,c)).join(""),l+="</div>",l+="</div>";break;case"Action":l+='<div id="'+n.$attr("id")+'" class="tiramisu-proc-item">',l+='<div class="tiramisu-proc-item-number">'+c+"</div>",l+='<div class="tiramisu-proc-item-content">'+s+"</div>",l+="</div>"}return l}("",r.uniview.ixml.json.$("SimulationInteractivity/Procedure")[0])}function g(e){var t=e["@name"],n=e.$text("Comment").trim();return"Procedure"===t||"Item"===t||"Action"===t&&n&&!r.uniview.options.HideActions}return u.documentTemplateHtml().then((function(t){function n(e,t){return!!e&&(e===t||n(e.parentNode,t))}function i(e){var t=window.getSelection();return!t.isCollapsed&&(t.containsNode?t.containsNode(e.target,!0):n(t.anchorNode,e.currentTarget)||n(t.focusNode,e.currentTarget))}var o,a=e.div(),c=t||p.comments&&"<div>"+h()+"</div>"||"";a.innerHTML=c;var d=a.querySelector("#pre-rendered-document");if(d&&(a=d),u.resolveImages(a,p),f.innerHTML=a.innerHTML,u.resolveLinks(f),!t){var m=document.querySelectorAll(".tiramisu-proc-item, .tiramisu-proc-title");m.length&&f.firstChild.classList.add("tiramisu-procedure"),m.forEach((function(e){e.classList.contains("tiramisu-proc-item-empty")||(l||(e.onmousedown=function(e){o=i(e)}),e.onclick=function(e){(l||!o&&!i(e))&&r.dispatch("app.procedure.didSelectSubstep",this.id),e.stopPropagation()})}))}r.dispatch("uniview.doc.didLoadComplete",f),s.emit("loaded"),r.dispatch("uniview.component.doc.loaded",s,f)})).catch(console.error.bind(console)),this.exports(f)}}.call(t,n,t,e))||(e.exports=r)},function(e,t,n){var r=n(0),i=n(14);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var o={insert:"head",singleton:!1};r(i,o);e.exports=i.locals||{}},function(e,t,n){(t=n(1)(!1)).push([e.i,".skin-container.doc-container {\r\n    display: block;\r\n    overflow: auto;\r\n    font-size: 14px;\r\n    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\r\n}\r\n\r\n.doc-container .tiramisu-procedure {\r\n    padding: 0 0.5em 0 1.5em;\r\n}\r\n\r\n.doc-container .tiramisu-proc-title {\r\n    border-radius: 0;\r\n}\r\n\r\n.doc-container .tiramisu-proc-item {\r\n    width: auto;\r\n    padding: 2px 4px;\r\n    margin: 4px 0 0 0;\r\n}\r\n\r\n.doc-container .tiramisu-proc-item-empty:before {\r\n    content: \" \";\r\n    display: inline-block;\r\n}\r\n\r\n.doc-container .tiramisu-proc-item.tiramisu-proc-item-empty:before {\r\n    display: none;\r\n}\r\n\r\n.doc-container .tiramisu-proc-item-image {\r\n    border: 1px solid #CCC;\r\n    background-color: #fff;\r\n}\r\n\r\n.doc-container .tiramisu-proc-item-image img {\r\n    max-width: 100%;\r\n}\r\n\r\n.doc-container .tiramisu-proc-item-image-title {\r\n    text-align: center;\r\n    margin-bottom: .5em;\r\n}\r\n\r\n.doc-container .tiramisu-proc-item-content {\r\n    margin-top: 0;\r\n}\r\n.doc-container .tiramisu-proc-item p {\r\n    margin: 0.5em 0;\r\n}\r\n\r\n.doc-container .play-context {\r\n    position: relative;\r\n}\r\n\r\n.doc-container .play-context:after {\r\n    position: absolute;\r\n    content: '';\r\n    left: -1em;\r\n    top: 0;\r\n    width: .7em;\r\n    height: 100%;\r\n    background-color: #add8e6;\r\n}\r\n\r\n.doc-container li.play-context:after {\r\n    left: -3em;\r\n}\r\n\r\n.doc-container .active {\r\n    background-color: #ee8;\r\n}\r\n\r\n.doc-container .link3d[data-key]:before {\r\n    content: \"3D\";\r\n    font-size: .8em;\r\n    padding: .2em;\r\n    display: inline-block;\r\n    background-color: #DD0000;\r\n    color: #FFFFFF;\r\n    font-weight: bold;\r\n    font-family: Verdana, sans-serif;\r\n    margin-right: 0.5em;\r\n}\r\n\r\n.doc-container .link3d[data-key]:hover:before {\r\n    background-color: #FF0000;\r\n    text-decoration: underline;\r\n}\r\n\r\n.doc-container .hidden {\r\n    display: none;\r\n}\r\n\r\n.doc-container .filterHide {\r\n    display: none !important;\r\n}\r\n\r\n.link3d .link3d {\r\n    display: none;\r\n}",""]),e.exports=t},function(e,t,n){var r;void 0===(r=function(e,t,n){var r=document.createElement("textarea");n.exports=function(e){return r.textContent=e,r.innerHTML}}.call(t,n,t,e))||(e.exports=r)}])}));